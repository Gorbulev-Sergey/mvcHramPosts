@{
    ViewData["Title"] = "Главная";
    Layout = "~/Areas/Control/Views/Shared/_Layout.cshtml";
}

@inject mvcHramPosts.Areas.Control.Services.IPostsService PostsService


<div class="row">


    <div class="col-md-6 mb-3">
        <div class="rounded bg-light">
            @*Публикации*@
            <div class="btn-group btn-block rounded">
                <button class="btn btn-secondary d-flex justify-content-between align-items-center" data-toggle="collapse" data-target="#p1">Новая публикация<span class="fas fa-chevron-down"></span></button>
            </div>
            <div class="collapse show rounded p-3" id="p1">
                <form asp-area="Control" asp-controller="posts" asp-action="Create">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    <div class="form-group d-flex align-items-center">
                        <label for="type" class="mr-2 col-form-label">Тип: </label>
                        <select name="type" class="form-control border-0 flex-grow-1">
                            <option value="@type.article">статья</option>
                            <option value="@type.news" selected>новость</option>
                            <option value="@type.notification">объявление</option>
                            <option value="@type.video">видео</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <input name="title" class="form-control border-0" type="text" placeholder="Название" />
                    </div>
                    <div class="form-group">
                        <textarea name="description" class="form-control border-0" rows="2" placeholder="Краткое описание"></textarea>
                    </div>
                    <div class="form-group">
                        <textarea name="content" class="form-control border-0" rows="2" placeholder="Содержимое"></textarea>
                    </div>
                    <div class="form-group">
                        <div class="form-check">
                            <input name="published" class="form-check-input bg-dark" type="checkbox" value="true" checked id="defaultCheck1">
                            <label class="form-check-label" for="defaultCheck1">Опубликовать</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <input name="cover_image" class="form-control border-0" type="text" placeholder="Url обложки публикации" onchange="$(this).next().attr('src', $(this).val())" />
                        <img class="img-fluid rounded mt-3" src="" />
                    </div>
                    <button class="btn btn-dark" type="submit">Добавить</button>
                </form>
            </div>
        </div>
    </div>





    <div class="col-md-6 mb-3">
        <div class="rounded bg-light">
            @*Объявление*@
            <div class="btn-group btn-block rounded">
                <button class="btn btn-secondary d-flex justify-content-between align-items-center" data-toggle="collapse" data-target="#p1">Новая публикация<span class="fas fa-chevron-down"></span></button>
            </div>
            <div class="collapse show rounded p-3" id="p1">
                <form asp-area="Control" asp-controller="posts" asp-action="Create">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    <div class="form-group d-flex align-items-center">
                        <label for="type" class="mr-2 col-form-label">Тип: </label>
                        <select name="type" class="form-control border-0 flex-grow-1">
                            <option value="@type.article">статья</option>
                            <option value="@type.news">новость</option>
                            <option value="@type.notification" selected>объявление</option>
                            <option value="@type.video">видео</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <input name="title" class="form-control border-0" type="text" placeholder="Название" />
                    </div>
                    <div class="form-group">
                        <textarea name="description" class="form-control border-0" rows="2" placeholder="Краткое описание"></textarea>
                    </div>
                    <div class="form-group">
                        <div class="form-check">
                            <input name="published" class="form-check-input bg-dark" type="checkbox" value="true" checked id="defaultCheck1">
                            <label class="form-check-label" for="defaultCheck1">Опубликовать</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <input name="cover_image" class="form-control border-0" type="text" placeholder="Url обложки публикации" onchange="$(this).next().attr('src', $(this).val())" />
                        <img class="img-fluid rounded mt-3" src="" />
                    </div>
                    <button class="btn btn-dark" type="submit">Добавить</button>
                </form>
            </div>
        </div>
    </div>

    <div class="col-md-6 mb-3">
        <div class="rounded bg-light">
            @*Видео*@
            <div class="btn-group btn-block rounded">
                <button class="btn btn-secondary d-flex justify-content-between align-items-center" data-toggle="collapse" data-target="#p1">Новая публикация<span class="fas fa-chevron-down"></span></button>
            </div>
            <div class="collapse show rounded p-3" id="p1">
                <form asp-area="Control" asp-controller="posts" asp-action="Create">
                    <div asp-validation-summary="ModelOnly" class="text-danger"></div>
                    <div class="form-group d-flex align-items-center">
                        <label for="type" class="mr-2 col-form-label">Тип: </label>
                        <select name="type" class="form-control border-0 flex-grow-1">
                            <option value="@type.article">статья</option>
                            <option value="@type.news">новость</option>
                            <option value="@type.notification">объявление</option>
                            <option value="@type.video" selected>видео</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <input name="title" class="form-control border-0" type="text" placeholder="Название" />
                    </div>
                    <div class="form-group">
                        <textarea name="desription" class="form-control border-0" rows="2" placeholder="Краткое описание"></textarea>
                    </div>
                    <div class="form-group">
                        <div class="form-check">
                            <input name="published" class="form-check-input bg-dark" type="checkbox" value="true" checked id="defaultCheck1">
                            <label class="form-check-label" for="defaultCheck1">Опубликовать</label>
                        </div>
                    </div>
                    <div class="form-group">
                        <input name="content" hidden />
                        <input class="form-control border-0" type="text" placeholder="Url видео" onchange="$(this).next().children().first().children().first().attr('src', $(this).val()); $(this).prev().val($(this).next().html())" />
                        <div>
                            <div class="embed-responsive d-block mr-auto ml-auto mt-3 mb-3 embed-responsive-21by9" style="width: 100%;">
                                <iframe class="embed-responsive-item" src="" allowfullscreen></iframe>
                            </div>
                        </div>                        
                    </div>
                    <button class="btn btn-dark" type="submit">Добавить</button>
                </form>
            </div>
        </div>
    </div>

</div>


@section Scripts {
    @{await Html.RenderPartialAsync("_ValidationScriptsPartial");}
}


